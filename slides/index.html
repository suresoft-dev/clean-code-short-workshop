<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <meta name="author" content="Dennis Gläser">
        <title>Clean Code and Refactoring</title>
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/theme/white.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/atom-one-light.min.css">
        <link rel="stylesheet" type="text/css" href="./index.css">
    </head>
    <body>
        <img class="suresoft-icon" src="img/suresoft-icon.png">
        <div class="reveal">
            <div class="slides">
                <section id="title-slide">
                  <img class="title-suresoft-logo" src="img/Suresoft_Logo.png" alt="">
                   <suresoft-card>
                     Clean <code>Code</code> and Refactoring
                   </suresoft-card>
                </section>

                <section>
                    <slide-header>About us</slide-header>
                      <div style="display: flex; place-content: space-around; margin-block-start: 4rem;">
                        <div>
                          <avatar-img src="https://avatars.githubusercontent.com/u/23519551?v=4">
                          </avatar-img>
                          <p><small>Sven Marcus</small></p>
                          <img src="https://www.tu-braunschweig.de/fileadmin/Redaktionsgruppen/Stabsstellen/SPK/CD-Toolbox/cd-basis-siegel.gif" style="width: 200px;" />
                        </div>
                        <div>
                          <avatar-img src="https://avatars.githubusercontent.com/u/20325458?v=4">
                          </avatar-img>
                          <p><small>Sören Peters</small></p>
                          <img src="https://www.tu-braunschweig.de/fileadmin/Redaktionsgruppen/Stabsstellen/SPK/CD-Toolbox/cd-basis-siegel.gif" style="width: 200px;" />
                        </div>
                        <div>
                          <avatar-img src="https://avatars.githubusercontent.com/u/49902895?v=4">
                          </avatar-img>
                          <p><small>Dennis Gläser</small></p>
                          <img src="https://www.beschaeftigte.uni-stuttgart.de/uni-services/oeffentlichkeitsarbeit/corporate-design/cd-dateien/01_Logo/jpg/unistuttgart_logo_englisch.jpg" style="width: 200px;" />
                        </div>
                      </div>
                </section>

                <section>
                    <slide-header>Agenda</slide-header>
                    <ul>
                        <li>Motivation</li>
                        <li>Names / Comments / Functions</li>
                        <li>Hands-on coding exercise</li>
                    </ul>
                </section>

                <section>
                    <section>
                      <slide-header>Motivation</slide-header>
                    </section>

                    <section>
                        <img style="width: 40%" src="https://media.springernature.com/full/springer-static/image/art%3A10.1038%2F533452a/MediaObjects/41586_2016_BF533452a_Figd_HTML.jpg"></img>
                        <small class="fragment">
                            <ul>
                                <li>84% of scientists say that developing software is essential to their research. [1]</li>
                                <li>Incorrect publications have led to a reproducibility and credibility crisi. [2, 3]</li>
                            </ul>
                            <p style="text-align:left; font-size: 18px;">
                                [1] Jo Hannay et al. “How Do Scientists Develop and Use Scientific Software?”<br>
                                [2] Monya Baker. “1,500 scientists lift the lid on reproducibility”.<br>
                                [3] Zeeya Merali. “Computational science: Error, why scientific programming does not compute”.<br>
                            </p>
                        </small>
                    </section>

                    <section>
                        <h3>Researchers...</h3>
                        <ul>
                            <li>often lack knowledge about principles and practices of the software engineering discipline. [3, 4]</li>
                            <li>do not gain reputation for developing software</li>
                            <li>are pressed to publish results as fast as possible [5]</li>
                        </ul>
                        <p style="text-align:left; font-size: 18px;">
                            [4] Lucas Joppa et al. “Troubling Trends in Scientific Software Use”. <br>
                            [5] Mark De Rond and Alan N Miller. “Publish or perish: bane or boon of academic life?”
                        </p>
                    </section>

                    <section>
                        <h3>Consequences</h3>
                        <ul>
                            <li>Low code quality</li>
                            <li>Hard to understand</li>
                            <li>(maybe) neither published nor documented</li>
                        </ul>
                    </section>

                    <section>
                        <h3>What is Clean Code?</h3>
                        <ul>
                            <li>Term coined by Robert C. Martin</li>
                            <li>No strict rules, but a set of principles to make code easy to understand, extend and adapt</li>
                        </ul>
                        <img style="width:25%" src="https://m.media-amazon.com/images/I/41SH-SvWPxL._SX260_.jpg"></img>
                    </section>

                    <section>
                        <p>
                            “Indeed, the ratio of time spent reading versus writing is well over 10 to 1. We are constantly reading old code as part of the effort to write new code. ...[Therefore,] making it easy to read makes it easier to write.” - Robert C. Martin
                        </p>
                    </section>

                    <section>
                        <h3>Clean Code</h3>
                        <small>
                        <p>
                            “Clean code always looks like it was written by someone who cares.”<br>
                            - Michael Feathers
                        </p>
                        <p>
                            “Clean code reads like well-written prose.”<br>
                            - Grady Booch
                        </p>
                        <p>
                            “Clean code can be read, and enhanced by a developer other than its original author.”<br>
                            - Dave Thomas
                        </p>
                        </small>
                    </section>

                    <section>
                        <img src="https://miro.medium.com/v2/resize:fit:500/0*HaqsruEqnR5pxQD4"></img>
                    </section>
                </section>

                <section>
                    <section>
                        <slide-header>Names / Comments / Functions</slide-header>
                    </section>

                    <section>
                        <slide-header>Names</slide-header>
                        <large><p>❌</p></large>
                        <pre><code data-trim data-noescape class="hljs python">
                            var = 7  # num days in week
                        </code></pre>
                    </section>

                    <section>
                        <slide-header>Names</slide-header>
                        <large><p>✅</p></large>
                        <pre><code data-trim data-noescape class="hljs python">
                            number_of_days_in_week = 7
                        </code></pre>
                    </section>

                    <section>
                        <slide-header>Names</slide-header>
                        <large><p>❌</p></large>
                        <pre><code data-trim data-noescape class="hljs python">
                            def copy_chars(a1, a2):
                                for i in range(0, len(a1)):
                                    a2[i] = a1[i]
                        </code></pre>
                    </section>

                    <section>
                        <slide-header>Names</slide-header>
                        <large><p>✅</p></large>
                        <pre><code data-trim data-noescape class="hljs python">
                            def copy_chars(source, destination):
                                for i in range(0, len(source)):
                                    destination[i] = source[i]
                        </code></pre>
                    </section>

                    <section>
                        <slide-header>Names</slide-header>
                        <large><p>❌</p></large>
                        <pre><code data-trim data-noescape class="hljs python">
                            def genymdhms():  # generate date, year, month, day, minutes
                        </code></pre>
                    </section>

                    <section>
                        <h2>Names</h2>
                        <large><p>✅</p></large>
                        <pre><code data-trim data-noescape class="hljs python">
                            def generate_timestamp():
                        </code></pre>
                        <ul class="fragment">
                            <li>Use names that are pronounceable and searchable</li>
                            <li>Avoid encodings (unless they are commonly known)</li>
                        </ul>
                    </section>

                    <section>
                        <slide-header>Names</slide-header>
                        <large><p>❌</p></large>
                        <pre><code data-trim data-noescape class="hljs python">
                            def do_the_next_thing():
                        </code></pre>
                    </section>

                    <section>
                        <slide-header>Names</slide-header>
                        <large><p>✅</p></large>
                        <pre><code data-trim data-noescape class="hljs python">
                            def apply_neumann_boundary_condition():
                        </code></pre>
                        <p class="fragment">Use domain names!</p>
                    </section>

                    <section>
                        <slide-header>Comments</slide-header>
                        <small>
                        <p>
                            “Don't comment bad code - rewrite it.”<br>
                            - Brian W. Kernighan and P.J. Plaugher
                        </p>
                        <p>
                            “The proper use of comments is to compensate for our failure to express ourself in code.
                             Note that I used the word failure. I meant it. Comments are always failures.”<br>
                            - Robert C. Martin
                        </p>
                        </small>
                    </section>

                    <section>
                        <slide-header>Comments</slide-header>
                        <info-box>
                          <p>
                              If a comment must be used, it should describe the <em>why</em> and not the <em>what</em> or <em>how</em>
                          </p>
                        </info-box>
                    </section>

                    <section>
                        <slide-header>Comments</slide-header>
                        <large><p>❌</p></large>
                        <pre><code data-trim data-noescape class="hljs python">
                            # check if i is a prime number
                            prime = True
                            for j in range(i):
                                if i % j == 0:
                                    prime = False
                                    break
                        </code></pre>
                    </section>

                    <section>
                        <slide-header>Comments</slide-header>
                        <large><p>✅</p></large>
                        <pre><code data-trim data-noescape class="hljs python">
                            def is_prime(number: int) -> bool:
                                for divisor in range(number):
                                    if number % divisor == 0:
                                        return False
                                return True
                        </code></pre>
                        <p>Express your intent in code instead of comments</p>
                    </section>

                    <section>
                        <slide-header>Comments</slide-header>
                        <large><p>❌</p></large>
                        <pre><code data-trim data-noescape class="hljs python">
                            class Container:
                                def __init__(self, logger) -> None:
                                    # The logger associated with this container
                                    self.logger = logger
                        </code></pre>
                    </section>

                    <!-- <section> -->
                    <!--     <slide-header>Comments</slide-header> -->
                    <!--     <large><p>❌</p></large> -->
                    <!--     <pre><code data-trim data-noescape class="hljs python"> -->
                    <!--         class MyClass: -->
                    <!--             # ------- Constructor ------- -->
                    <!--             def __init__(self): -->
                    <!--                 self.value = 0 -->
                    <!---->
                    <!--             # ------- Setter ------- -->
                    <!--             def set_value(self, new_value): -->
                    <!--                 self.value = new_value -->
                    <!--     </code></pre> -->
                    <!-- </section> -->

                    <!-- <section> -->
                    <!--     <slide-header>Comments</slide-header> -->
                    <!--     <large><p>❌</p></large> -->
                    <!--     <pre><code data-trim data-noescape class="hljs python"> -->
                    <!--         def _is_sad(maybe_sad: str) -> bool: -->
                    <!--             """Checks if a string is sad -->
                    <!---->
                    <!--             Args: -->
                    <!--                 maybe_sad(str): a string -->
                    <!--              -->
                    <!--             Returns: -->
                    <!--                 bool -->
                    <!--             """ -->
                    <!--             return ":(" in maybe_sad or "T_T" in maybe_sad -->
                    <!--     </code></pre> -->
                    <!--     <p>Don't require the use of doc comments in private functions if they don't add value</p> -->
                    <!-- </section> -->
                    <!---->
                    <!-- <section> -->
                    <!--     <slide-header>Comments</slide-header> -->
                    <!--     <large><p>✅</p></large> -->
                    <!--     <pre><code data-trim data-noescape class="hljs python"> -->
                    <!--         def make_happy(sad_string: str) -> str: -->
                    <!--             """Makes a sad string happy -->
                    <!---->
                    <!--             Args: -->
                    <!--                 sad_string(str): A string with sad smileys -->
                    <!---->
                    <!--             Returns: -->
                    <!--                 str -->
                    <!--             """ -->
                    <!--             if not _is_sad(str): -->
                    <!--                 return str -->
                    <!--             return sad_string.replace(":(", ":)").replace("T_T", "^_^") -->
                    <!--     </code></pre> -->
                    <!--     <p>Use doc comments in public APIs</p> -->
                    <!-- </section> -->

                    <section>
                        <slide-header>Comments</slide-header>
                        <large><p>🤔</p></large>
                        <pre><code data-trim data-noescape data-line-numbers="|4,8" class="hljs python">
                            def load_config(parser: ConfigParser, config_path: str) -> list[str]:
                                """
                                Loads configuration from a config file.
                                Falls back to the 'defaults' file on file.
                                """
                                config = parser.read(config_path)
                                if not config:
                                    config = parser.read(".defaults")
                                return config
                        </code></pre>
                    </section>

                    <section>
                        <slide-header>Comments</slide-header>
                        <large><p>It's a lie! 😱</p></large>
                        <pre><code data-trim data-noescape data-line-numbers="4,8" class="hljs python">
                            def load_config(parser: ConfigParser, config_path: str) -> list[str]:
                                """
                                Loads configuration from a config file.
                                Falls back to the <b><em>'defaults'</em></b> file on file.
                                """
                                config = parser.read(config_path)
                                if not config:
                                    config = parser.read(<b><em>".defaults"</em></b>)
                                return config
                        </code></pre>
                    </section>

                    <section>
                        <slide-header>Good comments</slide-header>
                        <p>Explanation of intent</p>
                        <pre><code data-trim class="hljs python">
                            # We're doing this because...
                        </code></pre>
                        <p>Warning</p>
                        <pre><code data-trim class="hljs python">
                            # This code could lead to a dead lock, couldn't fix it yet
                        </code></pre>
                        <p>Amplification</p>
                        <pre><code data-trim class="hljs python">
                            # Cutting out spaces here is important because...
                        </code></pre>
                    </section>

                    <section>
                        <slide-header>Functions</slide-header>
                        <large><p>❌</p></large>
                        <pre><code data-trim class="hljs python">
                            a = [1, 2, 3, 4]
                            with open("log_a.txt", "w") as f:
                                for num in a:
                                    f.write(str(num) + "\n")

                            b = [1, 2, 3, 4]
                            with open("log_b.txt", "w") as f:
                                for num in b:
                                    f.write(str(num) + "\n")
                        </code></pre>
                    </section>

                    <section>
                        <slide-header>Functions</slide-header>
                        <large><p>✅</p></large>
                        <pre><code data-trim class="hljs python">
                            def write_list_to_file(
                              a_list: list[int], filename: str
                            ) -> None:
                                with open(filename, "w") as f:
                                    for num in a:
                                        f.write(str(num) + "\n")

                            write_list_to_file(a, "log_a.txt")
                            write_list_to_file(b, "log_b.txt")
                        </code></pre>
                        <p>DRY - Don't repeat yourself!</p>
                    </section>
                </section>
            </div>
        </div>

        <!-- <script src="https://cdn.jsdelivr.net/npm/headjs@1.0.3/dist/1.0.0/head.min.js"></script> -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/plugin/highlight/highlight.min.js"></script>
        <script>
            // More info about config & dependencies:
            // - https://github.com/hakimel/reveal.js#configuration
            // - https://github.com/hakimel/reveal.js#dependencies
            Reveal.initialize({
                controls: true,
                // slideNumber: true,
                keyboard: true,
                overview: true,
                center: true,
                touch: true,
                loop: false,
                fragments: true,
                hideAddressBar: true,
                previewLinks: true,
                transition: 'slide', // none/fade/slide/convex/concave/zoom
                transitionSpeed: 'default', // default/fast/slow
                backgroundTransition: 'fade', // none/fade/slide/convex/concave/zoom
                parallaxBackgroundImage: '', // e.g. "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'"
                parallaxBackgroundSize: '', // CSS syntax, e.g. "2100px 900px"
                parallaxBackgroundHorizontal: null,
                parallaxBackgroundVertical: null,
                display: 'block', // The display mode that will be used to show slides
                plugins: [RevealHighlight]
            });
        </script>
        <script src="./components/component.js" type="module"></script>
        <script src="./components/slide-header.js" type="module"></script>
        <script src="./components/suresoft-card.js" type="module"></script>
        <script src="./components/infobox.js" type="module"></script>
        <script src="./components/avatar.js" type="module"></script>
    </body>
</html>
